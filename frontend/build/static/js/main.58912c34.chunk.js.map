{"version":3,"sources":["../images sync /^/.*/.jpg$","../images/Pirkka lihaisa herkkunakki.jpg","../images/juusto.jpg","../images/juusto2.jpg","../images/kana.jpg","../images/kauraleipa.jpg","../images/makkara.jpg","../images/omena.jpg","../images/parsa.jpg","../images/riisi.jpg","../images/ruisleipa.jpg","../images/spagetti.jpg","../images/vehnaleipa.jpg","../images/vesimeloni.jpg","components/Menu.js","components/CategoryMenu.js","components/Item.js","components/ItemList.js","components/Category.js","components/LoginForm.js","components/Ostoskori.js","components/OneItem.js","components/OrderHistory.js","components/Toggleable.js","components/ChangeInformationForm.js","components/ChangePasswordForm.js","components/User.js","services/items.js","services/users.js","services/login.js","App.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Menu","user","resetNotification","linkMaker","path","content","to","onClick","linkToUser","username","CategoryMenu","item","_id","className","src","require","kuva","height","alt","nimi","hinta","toFixed","paino","ItemList","items","title","key","Item","Category","category","categoryItems","filter","kategoria","LoginForm","props","toggleLogin","setState","login","state","toggleRegister","register","this","onSubmit","event","onLoginSubmit","history","type","name","value","onChange","handleChange","password","notification","onRegisterSubmit","address","React","Component","Ostoskori","ostoskori","poistaOstoskorista","tilaa","totalPrice","index","OneItem","lisaaOstoskoriin","kuvaus","DateParser","datestring","date","Date","arrived","now","getTime","toLocaleString","OrderHistory","orders","order","orderItem","Toggleable","toggleVisibility","visible","changeAppState","hideWhenVisible","display","showWhenVisible","style","buttonLabel","children","ChangeInformationForm","ChangePasswordForm","User","onInformationSubmit","onPasswordSubmit","logout","deleteUser","tog1","tog2","ref","instance","orderHistory","getAll","a","axios","get","response","data","token","create","newObject","post","setToken","newToken","changeInformation","config","headers","put","baseUrl","changePassword","remove","delete","credentials","App","window","localStorage","removeItem","userService","push","message","clearTimeout","timer","setTimeout","preventDefault","loginService","setItem","JSON","stringify","fromTilaa","clear","addItem","itemForm","itemObject","newItemNimi","newItemKuva","newItemHinta","newItemPaino","newItemKuvaus","newItemKategoria","itemService","newItem","concat","target","currentlyViewedItem","ostoskoriItemObject","splice","ostoskoriItem","newOrderHistory","showAll","haku","then","loggedUserJSON","getItem","parse","ostoskoriJSON","exact","render","placeholder","toLowerCase","includes","match","params","find","length","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.58912c34.chunk.js","sourcesContent":["var map = {\n\t\"./Pirkka lihaisa herkkunakki.jpg\": 48,\n\t\"./juusto.jpg\": 49,\n\t\"./juusto2.jpg\": 50,\n\t\"./kana.jpg\": 51,\n\t\"./kauraleipa.jpg\": 52,\n\t\"./makkara.jpg\": 53,\n\t\"./omena.jpg\": 54,\n\t\"./parsa.jpg\": 55,\n\t\"./riisi.jpg\": 56,\n\t\"./ruisleipa.jpg\": 57,\n\t\"./spagetti.jpg\": 58,\n\t\"./vehnaleipa.jpg\": 59,\n\t\"./vesimeloni.jpg\": 60\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 24;","module.exports = __webpack_public_path__ + \"static/media/Pirkka lihaisa herkkunakki.4f3cda98.jpg\";","module.exports = __webpack_public_path__ + \"static/media/juusto.783bff7f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/juusto2.b48f6750.jpg\";","module.exports = __webpack_public_path__ + \"static/media/kana.8af2fa33.jpg\";","module.exports = __webpack_public_path__ + \"static/media/kauraleipa.608a463e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/makkara.b20ab1a4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/omena.985ae478.jpg\";","module.exports = __webpack_public_path__ + \"static/media/parsa.83ed6152.jpg\";","module.exports = __webpack_public_path__ + \"static/media/riisi.009bf81f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ruisleipa.1bd3e0d9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/spagetti.d918c607.jpg\";","module.exports = __webpack_public_path__ + \"static/media/vehnaleipa.252ec4e9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/vesimeloni.8a3d4c79.jpg\";","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nconst Menu = ({user, resetNotification}) => {\r\n  const linkMaker = (path, content) => (\r\n    <Link to={path} onClick={resetNotification}>{content}</Link>\r\n  )\r\n  \r\n  const linkToUser = user ? linkMaker('/käyttäjä', user.username) : linkMaker('/kirjaudu', 'kirjaudu/rekisteröidy')\r\n  return(\r\n    <div>\r\n      {linkMaker('/kauppa', 'kauppa')} &nbsp;\r\n      {linkMaker('/ostoskori', 'ostoskori')} &nbsp;\r\n      {linkToUser}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Menu","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nconst CategoryMenu = () => {\r\n  return(\r\n    <div>\r\n      <Link to=\"/kauppa/lihat\">lihat</Link> &nbsp;\r\n      <Link to=\"/kauppa/kasvikset\">kasvikset</Link> &nbsp;\r\n      <Link to=\"/kauppa/leivät\">leivät</Link> &nbsp;\r\n      <Link to=\"/kauppa/hedelmät\">hedelmät</Link> &nbsp;\r\n      <Link to=\"/kauppa/maitotuotteet\">maitotuotteet</Link> &nbsp;\r\n      <Link to=\"/kauppa/muut\">muut</Link> &nbsp;\r\n      <Link to=\"/kauppa\">kaikki</Link>\r\n    </div>\r\n  )\r\n}\r\nexport default CategoryMenu","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nconst item = ({item}) => (\r\n  <Link to={'/tuote/'+item._id} className='itemLink'>\r\n    <div className='item'>\r\n      <img\r\n      src={require('../../images/'+item.kuva+'.jpg')}\r\n      height=\"100\"\r\n\t  alt=\"\"\r\n      />\r\n      <div>\r\n      {item.nimi}\r\n      {' '+(item.hinta).toFixed(2)}€\r\n      {' '+item.paino}g\r\n      {' '+(item.hinta*1000/item.paino).toFixed(2)}€/kg\r\n      </div>\r\n    </div>\r\n  </Link>\r\n)\r\n\r\nexport default item","import React from 'react'\r\nimport Item from './Item'\r\nconst ItemList = ({ items, title }) => (\r\n  \r\n  <div>\r\n    <h2>{title}</h2>\r\n    {items.map(item =>\r\n      <div key={item._id} className='itemList'>\r\n        <Item item={item}/>\r\n      </div>\r\n    )}\r\n  </div>\r\n)\r\nexport default ItemList","import React from 'react'\r\nimport ItemList from './ItemList'\r\nconst Category = ({items, category}) => {\r\n  const categoryItems = items.filter(item => item.kategoria === category)\r\n  return(\r\n    <div>\r\n      <ItemList items={categoryItems} title={category}/>\r\n    </div>\r\n  )\r\n}\r\nexport default Category","import React from 'react'\r\nclass LoginForm extends React.Component {\r\n\r\n    constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        login: false,\r\n        register: false\r\n      }\r\n    }\r\n  \r\n    toggleLogin = () => {\r\n      this.props.resetNotification()\r\n      this.setState({login: !this.state.login})\r\n    }\r\n\r\n    toggleRegister = () => {\r\n      this.props.resetNotification()\r\n      this.setState({register: !this.state.register})\r\n    }    \r\n\r\n    render() {\r\n      if (this.state.login){\r\n        return(\r\n          <div>\r\n            <h2>Kirjaudu sisään</h2>\r\n            <form onSubmit={(event) => this.props.onLoginSubmit(event, this.props.history)}>\r\n              <div>\r\n                käyttäjänimi\r\n                  <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  value={this.props.username}\r\n                  onChange={this.props.handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                salasana\r\n                  <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  value={this.props.password}\r\n                  onChange={this.props.handleChange}\r\n                />\r\n              </div>\r\n              <button type=\"submit\">login</button>\r\n            </form>\r\n            <button onClick={this.toggleLogin}>takaisin</button>\r\n            <div> {this.props.notification} </div>\r\n          </div>\r\n        )\r\n      }else if(this.state.register){\r\n        return(\r\n          <div>\r\n            <h2>Rekisteröidy</h2>\r\n            <form onSubmit={(event) => this.props.onRegisterSubmit(event, this.props.history)}>\r\n              <div>\r\n                käyttäjänimi\r\n                  <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  value={this.props.username}\r\n                  onChange={this.props.handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                salasana\r\n                  <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  value={this.props.password}\r\n                  onChange={this.props.handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                osoite\r\n                  <input\r\n                  type=\"address\"\r\n                  name=\"address\"\r\n                  value={this.props.address}\r\n                  onChange={this.props.handleChange}\r\n                />\r\n              </div>\r\n              <button type=\"submit\">rekisteröidy</button>\r\n            </form>\r\n            <button onClick={this.toggleRegister}>takaisin</button>\r\n            <div> {this.props.notification} </div>\r\n          </div>\r\n        )\r\n      }else{\r\n        return(\r\n          <div>\r\n            <button onClick={this.toggleLogin}>kirjaudu sisään</button>\r\n            <button onClick={this.toggleRegister}>rekisteröidy</button>\r\n            <div> Kirjaudu tai rekisteröidy, jotta voit tehdä tilauksen</div>\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\nexport default LoginForm","import React from 'react'\r\nimport Item from './Item'\r\nconst Ostoskori = ({ ostoskori, poistaOstoskorista, tilaa, history, notification}) => {\r\n  let totalPrice=0\r\n  return(\r\n    <div>\r\n      <h2>Ostoskori</h2>\r\n      {ostoskori.map((item, index) => {\r\n        totalPrice += item.hinta\r\n        return(\r\n          <div key={index} className='itemList'>\r\n            <Item item={item}/>\r\n            <button onClick={() => poistaOstoskorista(index)}>poista</button>\r\n          </div>\r\n        )\r\n      })}\r\n      <br/>\r\n      yhteensä: {totalPrice.toFixed(2)}€<br/>\r\n      <button onClick={() => tilaa(history)}>tilaa</button>\r\n      <div>{notification}</div>\r\n    </div>\r\n  )\r\n}\r\nexport default Ostoskori","import React from 'react'\r\nconst OneItem = ({ item, lisaaOstoskoriin}) => {\r\n  return(\r\n    <div>\r\n    <h2>{item.nimi}</h2>\r\n    <img\r\n\tsrc={require('../../images/'+item.kuva+'.jpg')}\r\n    height=\"200\"\r\n\talt=\"\"\r\n    />\r\n    <div>{'hinta: '+(item.hinta).toFixed(2)}€</div>\r\n    <div>{'paino: '+item.paino}g</div>\r\n    <div>{'kilohinta '+(item.hinta*1000/item.paino).toFixed(2)}€/kg</div>\r\n    <button onClick={() => lisaaOstoskoriin(item)}>lisää ostoskoriin</button>\r\n    <p>{item.kuvaus}</p>\r\n    </div>\r\n  )\r\n}\r\nexport default OneItem","import React from 'react'\r\nimport Item from './Item'\r\nconst DateParser = ({datestring}) => {\r\n  const date = new Date(datestring)\r\n  const currentDate = Date.now()\r\n  const arrived = currentDate > date.getTime()+30000 ? 'saapunut' : 'ei saapunut'\r\n  return(\r\n    <div>\r\n      {date.toLocaleString('en-GB')}\r\n      <br/>\r\n      {arrived}\r\n    </div>\r\n  )\r\n}\r\nconst OrderHistory = ({ orders }) => {\r\n  return(\r\n    <div>\r\n      <h2>tilaushistoria</h2>\r\n      {orders.map((order, index) =>\r\n        <div key={index}>\r\n          <Item item={order.orderItem}/>\r\n          <DateParser datestring={order.date}/>\r\n          <br/>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\nexport default OrderHistory","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass Toggleable extends React.Component {\r\n    constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        visible: false\r\n      }\r\n    }\r\n  \r\n    toggleVisibility = () => {\r\n      this.setState({visible: !this.state.visible})\r\n      if (this.props.changeAppState) {\r\n        this.props.changeAppState('address', this.props.user.address)\r\n      }\r\n    }\r\n    \r\n    render() {\r\n      const hideWhenVisible = { display: this.state.visible ? 'none' : '' }\r\n      const showWhenVisible = { display: this.state.visible ? '' : 'none' }\r\n  \r\n      return (\r\n        <div>\r\n          <div style={hideWhenVisible}>\r\n            <button onClick={this.toggleVisibility}>{this.props.buttonLabel}</button>\r\n          </div>\r\n          <div style={showWhenVisible}>\r\n            {this.props.children}\r\n            <button onClick={this.toggleVisibility}>peruuta</button>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  \r\nToggleable.propTypes = {\r\n    buttonLabel: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Toggleable","\r\nimport React from 'react'\r\nconst ChangeInformationForm = ({address, handleChange, onSubmit }) => {\r\n    return (\r\n      <div>\r\n        <h3>muokkaa tietoja</h3>\r\n        <form onSubmit={onSubmit}>\r\n          <div>\r\n            osoite\r\n            <input\r\n              name=\"address\"\r\n              value={address}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <button type=\"submit\">valmis</button>\r\n        </form>\r\n      </div>\r\n    )\r\n\r\n  }\r\nexport default ChangeInformationForm","import React from 'react'\r\nconst ChangePasswordForm = ({ onSubmit, handleChange, password }) => {\r\n    return (\r\n      <div>\r\n        <h3>Vaihda salasana</h3>\r\n        <form onSubmit={onSubmit}>\r\n          <div>\r\n            uusi salasana\r\n            <input\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <button type=\"submit\">valmis</button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\nexport default ChangePasswordForm","import React from 'react'\r\nimport OrderHistory from './OrderHistory'\r\nimport Toggleable from './Toggleable'\r\nimport ChangeInformationForm from './ChangeInformationForm'\r\nimport ChangePasswordForm from './ChangePasswordForm'\r\n\r\nconst User = ({ user, address, password, handleChange, onInformationSubmit, onPasswordSubmit, logout, changeAppState, notification, deleteUser, history }) => {\r\n  if (user){\r\n    let tog1\r\n    let tog2\r\n    const togref1 = instance => tog1 = instance\r\n    const togref2 = instance => tog2 = instance\r\n    \r\n    const changeInformationFormSubmit = (event) => {\r\n      tog1.toggleVisibility()\r\n      onInformationSubmit(event, address)\r\n    }\r\n\r\n    const changePasswordFormSubmit = (event) => {\r\n      tog2.toggleVisibility()\r\n      onPasswordSubmit(event)\r\n    }\r\n\r\n    return(\r\n      <div>\r\n      <h2>{user.username}</h2>\r\n      <br/>\r\n      osoite: {user.address}\r\n      <Toggleable buttonLabel=\"muokkaa tietoja\" changeAppState={changeAppState} user={user} ref={togref1}>\r\n        <ChangeInformationForm\r\n          address={address}\r\n          handleChange={handleChange}\r\n          onSubmit={changeInformationFormSubmit}\r\n        />\r\n      </Toggleable>\r\n\r\n      <Toggleable buttonLabel=\"vaihda salasana\" ref={togref2}>\r\n        <ChangePasswordForm\r\n          password={password}\r\n          handleChange={handleChange}\r\n          onSubmit={changePasswordFormSubmit}\r\n        />\r\n      </Toggleable>\r\n\r\n      \r\n      <button onClick={()=>logout(history)}>kirjaudu ulos</button>\r\n      <button onClick={()=>deleteUser(history)}>poista käyttäjätunnus</button>\r\n      <div>{notification}</div>\r\n      <OrderHistory orders={user.orderHistory} />\r\n    </div>\r\n    )\r\n  }else{\r\n    return(\r\n      null\r\n    )\r\n  }\r\n}\r\nexport default User\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/items'\r\n\r\nconst getAll = async () => {\r\n  const response = await axios.get(baseUrl)\r\n  return response.data\r\n}\r\n\r\nexport default { getAll }","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nlet token = null\r\nconst create = async (newObject) => {\r\n  const response = await axios.post(baseUrl, newObject)\r\n  return response.data\r\n}\r\n\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst changeInformation = async (newObject) => {\r\n  const config = {\r\n    headers: { 'Authorization': token }\r\n  }\r\n  const response = await axios.put(baseUrl+'/information', newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst changePassword = async (newObject) => {\r\n  const config = {\r\n    headers: { 'Authorization': token }\r\n  }\r\n  const response = await axios.put(baseUrl+'/password', newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst order = async (newObject) => {\r\n  const config = {\r\n    headers: { 'Authorization': token }\r\n  }\r\n  const response = await axios.put(baseUrl+'/order', newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst remove = async () => {\r\n  const config = {\r\n    headers: { 'Authorization': token }\r\n  }\r\n  const response = await axios.delete(baseUrl+'/delete', config)\r\n  return response.data\r\n}\r\nexport default {create, setToken, changeInformation, changePassword, order, remove }","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async (credentials) => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import React from 'react'\r\nimport './index.css'\r\nimport Menu from './components/Menu'\r\nimport CategoryMenu from './components/CategoryMenu'\r\nimport Category from './components/Category'\r\nimport LoginForm from './components/LoginForm'\r\nimport ItemList from './components/ItemList'\r\nimport Ostoskori from './components/Ostoskori'\r\nimport OneItem from './components/OneItem'\r\nimport User from './components/User'\r\nimport itemService from './services/items'\r\nimport userService from './services/users'\r\nimport loginService from './services/login'\r\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom'\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      items: [],\r\n      showAll: true,\r\n      notification: null,\r\n      username: '',\r\n      password: '',\r\n      address: '',\r\n      user: null,\r\n      ostoskori: [],\r\n      currentlyViewedItem: '',\r\n      haku: '',\r\n      fromTilaa: false,\r\n      newItemNimi: '',\r\n      newItemKuva: '',\r\n      newItemHinta: '',\r\n      newItemPaino: '',\r\n      newItemKuvaus: '',\r\n      newItemKategoria: '',\r\n      timer: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    itemService.getAll().then(items =>{\r\n      this.setState({ items })\r\n    }\r\n    )\r\n    const loggedUserJSON = window.localStorage.getItem('loggedItemAppUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      this.setState({ user })\r\n      userService.setToken(user.token)\r\n    }\r\n\r\n    const ostoskoriJSON = window.localStorage.getItem('ostoskori')\r\n    if (ostoskoriJSON) {\r\n      const ostoskori = JSON.parse(ostoskoriJSON)\r\n      this.setState({\r\n        ostoskori\r\n      })\r\n    }\r\n  }\r\n\r\n  logout = (history) => {\r\n    window.localStorage.removeItem('loggedItemAppUser')\r\n    userService.setToken(null)\r\n    this.setState({ username: '', password: '', user: null })\r\n    history.push('/kauppa')\r\n  }\r\n\r\n  notification = (message) => {\r\n    clearTimeout(this.state.timer)\r\n    const timer = setTimeout(() => {\r\n      this.setState({ notification: null })\r\n    }, 5000)\r\n    this.setState({notification: message, timer})\r\n  }\r\n  resetNotification = () => {\r\n    this.setState({notification: null})\r\n  }\r\n\r\n  login = async (event, history) => {\r\n    event.preventDefault()\r\n    try {\r\n      const user = await loginService.login({\r\n        username: this.state.username,\r\n        password: this.state.password\r\n      })\r\n      \r\n      userService.setToken(user.token)\r\n      window.localStorage.setItem('loggedItemAppUser', JSON.stringify(user))\r\n      this.setState({ username: '', password: '', user, notification: null })\r\n      \r\n      if (this.state.fromTilaa) {\r\n        this.setState({ fromTilaa: false })\r\n        history.push('/ostoskori')\r\n      }else{\r\n        history.push('/kauppa')\r\n      }\r\n    } catch (exception) {\r\n      this.notification('käyttäjätunnus tai salasana virheellinen')\r\n    }\r\n  }\r\n\r\n  register = async (event, history) => {\r\n    event.preventDefault()\r\n    if (this.state.username==='' || this.state.password==='' || this.state.address==='') {\r\n      this.notification('kaikki kentät pitää täyttää')\r\n    }else{\r\n      try {\r\n        const user = await userService.create({\r\n          username: this.state.username,\r\n          password: this.state.password,\r\n          address: this.state.address\r\n        })\r\n\r\n        userService.setToken(user.token)\r\n        window.localStorage.setItem('loggedItemAppUser', JSON.stringify(user))\r\n        this.setState({ username: '', password: '',address: '', user, notification: null })\r\n        if (this.state.fromTilaa) {\r\n          this.setState({ fromTilaa: false })\r\n          history.push('/ostoskori')\r\n        }else{\r\n          history.push('/kauppa')\r\n        }\r\n      } catch (exception) {\r\n        this.notification('käyttäjätunnus pitää olla ainutlaatuinen')\r\n      }\r\n    }\r\n  }\r\n\r\n  \r\n  changeInformation = async (event, address) => {\r\n    event.preventDefault()\r\n    if (address==='') {\r\n      this.notification('osoite ei saa olla tyhjä')\r\n    }else{\r\n      await userService.changeInformation({\r\n        address\r\n      })\r\n      const user = {...this.state.user, address}\r\n      window.localStorage.setItem('loggedItemAppUser', JSON.stringify(user))\r\n      this.setState({ address: '', user })\r\n      this.notification('osoite muutettu')\r\n    }\r\n  }\r\n\r\n  changePassword = async (event) => {\r\n    event.preventDefault()\r\n    if (this.state.password==='') {\r\n      this.notification('salasana ei saa olla tyhjä')\r\n    }else{\r\n      await userService.changePassword({\r\n        password: this.state.password\r\n      })\r\n      this.setState({ password: '' })\r\n      this.notification('salasana muutettu')\r\n    }\r\n  }\r\n\r\n  deleteUser = async (history) => {\r\n    await userService.remove()\r\n    window.localStorage.clear()\r\n    this.setState({ostoskori: [], user: null})\r\n    history.push('/kauppa')\r\n  }\r\n  \r\n\r\n  addItem = async (event) => {\r\n    event.preventDefault()\r\n    this.itemForm.toggleVisibility()\r\n    const itemObject = {\r\n      nimi: this.state.newItemNimi,\r\n      kuva: this.state.newItemKuva,\r\n      hinta: this.state.newItemHinta,\r\n      paino: this.state.newItemPaino,\r\n      kuvaus: this.state.newItemKuvaus,\r\n      kategoria: this.state.newItemKategoria\r\n    }\r\n    const newItem = await itemService.create(itemObject)\r\n    this.setState({\r\n      items: this.state.items.concat(newItem),\r\n      newItemNimi: '',\r\n      newItemKuva: '',\r\n      newItemHinta: '',\r\n      newItemPaino: '',\r\n      newItemKuvaus: '',\r\n      newItemKategoria: ''\r\n    })\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({ [event.target.name]: event.target.value })\r\n  }\r\n\r\n  changeAppState = (key, value) => {\r\n    this.setState({ [key]: value })\r\n  }\r\n  \r\n  lisaaOstoskoriin = (currentlyViewedItem) => {\r\n    const ostoskoriItemObject = {\r\n      nimi: currentlyViewedItem.nimi,\r\n      kuva: currentlyViewedItem.kuva,\r\n      hinta: currentlyViewedItem.hinta,\r\n      paino: currentlyViewedItem.paino,\r\n      kuvaus: currentlyViewedItem.kuvaus,\r\n      _id: currentlyViewedItem._id\r\n    }\r\n    const ostoskori = this.state.ostoskori.concat(ostoskoriItemObject)\r\n    window.localStorage.setItem('ostoskori', JSON.stringify(ostoskori))\r\n    this.setState({\r\n      ostoskori\r\n    })\r\n  }\r\n\r\n  poistaOstoskorista = (index) => {\r\n    const ostoskori=this.state.ostoskori\r\n    ostoskori.splice(index, 1)\r\n    window.localStorage.setItem('ostoskori', JSON.stringify(ostoskori))\r\n    this.setState({\r\n      ostoskori\r\n    })\r\n  }\r\n\r\n  tilaa = async (history) => {\r\n    if (this.state.user === null) {\r\n      this.setState({fromTilaa: true})\r\n      history.push('/kirjaudu')\r\n    }else{\r\n      const ostoskori=this.state.ostoskori\r\n      const orders = ostoskori.map(ostoskoriItem =>{\r\n        const newOrder = {\r\n          orderItem: ostoskoriItem,\r\n          date: Date.now()\r\n        }\r\n        return(newOrder)\r\n      })\r\n      const orderHistory=this.state.user.orderHistory.concat(orders)\r\n      const newOrderHistory = await userService.order({orderHistory})\r\n      const user ={...this.state.user, orderHistory: newOrderHistory}\r\n      window.localStorage.setItem('loggedItemAppUser', JSON.stringify(user))\r\n      window.localStorage.setItem('ostoskori', JSON.stringify([]))\r\n      this.setState({\r\n        ostoskori: [],\r\n        user\r\n      })\r\n      this.notification('tilattu')\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Router>\r\n          <div>\r\n            <h1>ruokakauppa</h1>\r\n            <Menu user={this.state.user} resetNotification={this.resetNotification}/>\r\n            <Route exact path=\"/\" render={() =>\r\n              <Redirect to='/kauppa'/>\r\n            } />\r\n            <Route path=\"/kauppa\" render={() =>\r\n              <div>\r\n                <br/>\r\n                <CategoryMenu />\r\n                <input className='haku'\r\n                  name=\"haku\"\r\n                  placeholder=\"hae...\"\r\n                  value={this.state.haku}\r\n                  onChange={this.handleChange}\r\n                />\r\n              </div>\r\n            } />\r\n            <Route exact path=\"/kauppa\" render={() =>\r\n              <ItemList items={this.state.items.filter(item => item.nimi.toLowerCase().includes(this.state.haku.toLowerCase()))}\r\n              title='tuotteet'\r\n              />\r\n            } />\r\n            <Route exact path=\"/kauppa/:category\" render={({ match }) => \r\n              <div>\r\n                <Category\r\n                items={this.state.items.filter(item => item.nimi.toLowerCase().includes(this.state.haku.toLowerCase()))}\r\n                category={match.params.category}\r\n                />\r\n              </div>\r\n            } />\r\n\r\n            <Route exact path=\"/ostoskori\" render={({history}) =>\r\n              <Ostoskori\r\n              ostoskori={this.state.ostoskori}\r\n              poistaOstoskorista={this.poistaOstoskorista}\r\n              tilaa={this.tilaa}\r\n              history={history}\r\n              notification={this.state.notification}\r\n              />\r\n            } />\r\n\r\n            <Route exact path=\"/käyttäjä\" render={({history}) =>\r\n              <User\r\n              user={this.state.user}\r\n              address={this.state.address}\r\n              password={this.state.password}\r\n              handleChange={this.handleChange}\r\n              onInformationSubmit={this.changeInformation}\r\n              onPasswordSubmit={this.changePassword}\r\n              logout={this.logout}\r\n              changeAppState={this.changeAppState}\r\n              notification={this.state.notification}\r\n              deleteUser={this.deleteUser}\r\n              history={history}\r\n              />\r\n            } />\r\n\r\n            <Route exact path=\"/kirjaudu\" render={({history}) => \r\n              <LoginForm\r\n              username={this.state.username}\r\n              password={this.state.password}\r\n              address={this.state.address}\r\n              handleChange={this.handleChange}\r\n              onLoginSubmit={this.login}\r\n              onRegisterSubmit={this.register}\r\n              notification={this.state.notification}\r\n              resetNotification={this.resetNotification}\r\n              history={history}\r\n              />\r\n            } />\r\n\r\n            <Route path=\"/tuote/:id\" render={({ match }) => {\r\n              const items = this.state.items\r\n              const currentlyViewedItem = items.find(a => a._id === match.params.id)\r\n              if (items.length > 0) {\r\n                return (\r\n                  <div>\r\n                    <br/>\r\n                    <CategoryMenu />\r\n                    <OneItem item={currentlyViewedItem} lisaaOstoskoriin={this.lisaaOstoskoriin}/>\r\n                  </div>\r\n                )\r\n              }\r\n              return null\r\n            }\r\n            } />\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}