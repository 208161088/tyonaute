{"version":3,"sources":["../images sync /^/.*/.webp$","../images/Pirkka lihaisa herkkunakki.webp","../images/juusto.webp","../images/juusto2.webp","../images/kana.webp","../images/kauraleipa.webp","../images/makkara.webp","../images/omena.webp","../images/parsa.webp","../images/riisi.webp","../images/ruisleipa.webp","../images/spagetti.webp","../images/vehnaleipa.webp","../images/vesimeloni.webp","components/Menu.js","components/CategoryMenu.js","components/Item.js","components/ItemList.js","components/Category.js","components/LoginForm.js","components/Ostoskori.js","components/OneItem.js","components/OrderHistory.js","components/Toggleable.js","components/ChangeInformationForm.js","components/ChangePasswordForm.js","components/User.js","services/items.js","services/users.js","services/login.js","App.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Menu","user","ostoskori","resetNotification","linkMaker","path","content","to","className","onClick","linkToUser","username","CategoryLink","text","CategoryMenu","item","itemText","ostoskoriFunction","index","_id","style","textDecoration","src","require","kuva","alt","hinta","toFixed","paino","nimi","ItemList","items","title","lisaaOstoskoriin","Item","key","Category","category","categoryItems","filter","kategoria","LoginForm","props","toggleLogin","setState","login","state","toggleRegister","register","this","onSubmit","event","onLoginSubmit","history","type","name","value","onChange","handleChange","password","notification","onRegisterSubmit","address","React","Component","tilaaButton","totalPrice","tilaa","Ostoskori","poistaOstoskorista","reduce","accumulator","length","OneItem","kuvaus","DateParser","datestring","date","Date","arrived","now","getTime","marginBottom","toLocaleString","OrderHistory","orders","order","orderItem","Toggleable","toggleVisibility","visible","changeAppState","hideWhenVisible","display","showWhenVisible","buttonLabel","children","ChangeInformationForm","ChangePasswordForm","User","onInformationSubmit","onPasswordSubmit","logout","deleteUser","tog1","tog2","ref","instance","orderHistory","getAll","a","axios","get","response","data","token","create","newObject","post","setToken","newToken","changeInformation","config","headers","put","baseUrl","changePassword","remove","delete","credentials","App","window","localStorage","removeItem","userService","push","message","clearTimeout","timer","setTimeout","preventDefault","loginService","setItem","JSON","stringify","fromTilaa","clear","target","concat","splice","ostoskoriItem","newOrderHistory","showAll","currentlyViewedItem","haku","newItemNimi","newItemKuva","newItemHinta","newItemPaino","newItemKuvaus","newItemKategoria","itemService","then","loggedUserJSON","getItem","parse","ostoskoriJSON","exact","render","placeholder","toLowerCase","includes","match","params","find","findIndex","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0935373a.chunk.js","sourcesContent":["var map = {\n\t\"./Pirkka lihaisa herkkunakki.webp\": 48,\n\t\"./juusto.webp\": 49,\n\t\"./juusto2.webp\": 50,\n\t\"./kana.webp\": 51,\n\t\"./kauraleipa.webp\": 52,\n\t\"./makkara.webp\": 53,\n\t\"./omena.webp\": 54,\n\t\"./parsa.webp\": 55,\n\t\"./riisi.webp\": 56,\n\t\"./ruisleipa.webp\": 57,\n\t\"./spagetti.webp\": 58,\n\t\"./vehnaleipa.webp\": 59,\n\t\"./vesimeloni.webp\": 60\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 24;","module.exports = __webpack_public_path__ + \"static/media/Pirkka lihaisa herkkunakki.4de32b7a.webp\";","module.exports = __webpack_public_path__ + \"static/media/juusto.dbde9fec.webp\";","module.exports = __webpack_public_path__ + \"static/media/juusto2.ab1e840c.webp\";","module.exports = __webpack_public_path__ + \"static/media/kana.9206c5cd.webp\";","module.exports = __webpack_public_path__ + \"static/media/kauraleipa.8871d72b.webp\";","module.exports = __webpack_public_path__ + \"static/media/makkara.9b37e5a6.webp\";","module.exports = __webpack_public_path__ + \"static/media/omena.fbdf0cf9.webp\";","module.exports = __webpack_public_path__ + \"static/media/parsa.a4684f58.webp\";","module.exports = __webpack_public_path__ + \"static/media/riisi.434464fb.webp\";","module.exports = __webpack_public_path__ + \"static/media/ruisleipa.112ddc5a.webp\";","module.exports = __webpack_public_path__ + \"static/media/spagetti.89d6d078.webp\";","module.exports = __webpack_public_path__ + \"static/media/vehnaleipa.b139231c.webp\";","module.exports = __webpack_public_path__ + \"static/media/vesimeloni.c9d24711.webp\";","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nconst Menu = ({user, ostoskori, resetNotification}) => {\r\n  const linkMaker = (path, content) => (\r\n    <Link to={path} className='categoryLink' onClick={resetNotification}>{content}</Link>\r\n  )\r\n  \r\n  const linkToUser = user ? linkMaker('/käyttäjä', user.username) : linkMaker('/kirjaudu', 'kirjaudu/rekisteröidy')\r\n  return(\r\n    <div>\r\n      {linkMaker('/kauppa', 'kauppa')}\r\n      {ostoskori ? linkMaker('/ostoskori', 'ostoskori') : null}\r\n      {linkToUser}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Menu","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst CategoryLink = ({text}) => (\r\n  <Link to={\"/kauppa/\" + text} className='categoryLink'>{text}</Link>\r\n)\r\n\r\n\r\nconst CategoryMenu = () => {\r\n  return(\r\n    <div>\r\n      <CategoryLink text=\"lihat\"/>\r\n      <CategoryLink text='kasvikset'/>\r\n      <CategoryLink text='leivät'/>\r\n      <CategoryLink text='hedelmät'/>\r\n      <CategoryLink text='maitotuotteet'/>\r\n      <CategoryLink text='muut'/>\r\n      <Link to=\"/kauppa\" className='categoryLink'>kaikki</Link>\r\n    </div>\r\n  )\r\n}\r\nexport default CategoryMenu","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nconst item = ({item, itemText, ostoskoriFunction, index}) => (\r\n  <div className='item'>\r\n    <div className='itemListButton' onClick={() => ostoskoriFunction(index)}>{itemText?itemText:'lisää ostoskoriin'}</div>\r\n    <Link to={'/tuote/'+item._id} style={{textDecoration: 'none'}}>\r\n      <div className='itemLink'>\r\n        <img\r\n        src={require('../../images/'+item.kuva+'.webp')}\r\n        className={'itemImage'}\r\n        alt=\"\"\r\n        />\r\n        <div className='itemInformationText'>\r\n        {' '+(item.hinta).toFixed(2)}€<br/>\r\n        {' '+item.paino}g<br/>\r\n        {' '+(item.hinta*1000/item.paino).toFixed(2)}€/kg\r\n        </div>\r\n        <div>{item.nimi}</div>\r\n      </div>\r\n    </Link>\r\n  </div>\r\n)\r\n\r\nexport default item","import React from 'react'\r\nimport Item from './Item'\r\nconst ItemList = ({ items, title, lisaaOstoskoriin }) => (\r\n  <div>\r\n    <h2>{title}</h2>\r\n    {items.map((item, index) => (\r\n      <Item key={item._id} item={item} ostoskoriFunction={lisaaOstoskoriin} index={index}/>\r\n    )\r\n    )}\r\n  </div>\r\n)\r\nexport default ItemList","import React from 'react'\r\nimport ItemList from './ItemList'\r\nconst Category = ({items, category}) => {\r\n  const categoryItems = items.filter(item => item.kategoria === category)\r\n  return(\r\n    <div>\r\n      <ItemList items={categoryItems} title={category}/>\r\n    </div>\r\n  )\r\n}\r\nexport default Category","import React from 'react'\r\nclass LoginForm extends React.Component {\r\n\r\n    constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        login: false,\r\n        register: false\r\n      }\r\n    }\r\n  \r\n    toggleLogin = () => {\r\n      this.props.resetNotification()\r\n      this.setState({login: !this.state.login})\r\n    }\r\n\r\n    toggleRegister = () => {\r\n      this.props.resetNotification()\r\n      this.setState({register: !this.state.register})\r\n    }    \r\n\r\n    render() {\r\n      if (this.state.login){\r\n        return(\r\n          <div>\r\n            <h2>Kirjaudu sisään</h2>\r\n            <form onSubmit={(event) => this.props.onLoginSubmit(event, this.props.history)}>\r\n              <div>\r\n                käyttäjänimi\r\n                  <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  value={this.props.username}\r\n                  onChange={this.props.handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                salasana\r\n                  <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  value={this.props.password}\r\n                  onChange={this.props.handleChange}\r\n                />\r\n              </div>\r\n              <button type=\"submit\">kirjaudu</button>\r\n            </form>\r\n            <button onClick={this.toggleLogin}>takaisin</button>\r\n            <div> {this.props.notification} </div>\r\n          </div>\r\n        )\r\n      }else if(this.state.register){\r\n        return(\r\n          <div>\r\n            <h2>Rekisteröidy</h2>\r\n            <form onSubmit={(event) => this.props.onRegisterSubmit(event, this.props.history)}>\r\n              <div>\r\n                käyttäjänimi\r\n                  <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  value={this.props.username}\r\n                  onChange={this.props.handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                salasana\r\n                  <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  value={this.props.password}\r\n                  onChange={this.props.handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                osoite\r\n                  <input\r\n                  type=\"address\"\r\n                  name=\"address\"\r\n                  value={this.props.address}\r\n                  onChange={this.props.handleChange}\r\n                />\r\n              </div>\r\n              <button type=\"submit\">rekisteröidy</button>\r\n            </form>\r\n            <button onClick={this.toggleRegister}>takaisin</button>\r\n            <div> {this.props.notification} </div>\r\n          </div>\r\n        )\r\n      }else{\r\n        return(\r\n          <div>\r\n            <button onClick={this.toggleLogin}>kirjaudu sisään</button>\r\n            <button onClick={this.toggleRegister}>rekisteröidy</button>\r\n            <div> Kirjaudu tai rekisteröidy, jotta voit tehdä tilauksen</div>\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\nexport default LoginForm","import React from 'react'\r\nimport Item from './Item'\r\n\r\nconst tilaaButton = (totalPrice, tilaa, history) => (\r\n  <div>\r\n    yhteensä: {totalPrice}€<br/>\r\n    <button className='tilaaButton' onClick={() => tilaa(history)}>tilaa</button>\r\n  </div>\r\n)\r\n\r\nconst Ostoskori = ({ ostoskori, poistaOstoskorista, tilaa, history, notification}) => {\r\n  const totalPrice = ostoskori.reduce((accumulator, item) => accumulator + item.hinta, 0).toFixed(2)\r\n  return(\r\n    <div>\r\n      <h2>Ostoskori</h2>\r\n      {ostoskori.length > 4 ? tilaaButton(totalPrice, tilaa, history) : null}\r\n      {ostoskori.map((item, index) => {\r\n        return(\r\n          <div key={index} className='itemList'>\r\n            <Item item={item} itemText='poista ostoskorista' ostoskoriFunction={poistaOstoskorista} index={index}/>\r\n          </div>\r\n        )\r\n      })}\r\n      <br/>\r\n      {tilaaButton(totalPrice, tilaa, history)}\r\n      <div>{notification}</div>\r\n    </div>\r\n  )\r\n}\r\nexport default Ostoskori","import React from 'react'\r\nconst OneItem = ({ item, index, lisaaOstoskoriin}) => {\r\n  return(\r\n    <div>\r\n      <h2>{item.nimi}</h2>\r\n      <img\r\n        src={require('../../images/'+item.kuva+'.webp')}\r\n        className={'oneItemImage'}\r\n        alt=\"\"\r\n      />\r\n      <div>{'hinta: '+(item.hinta).toFixed(2)}€</div>\r\n      <div>{'paino: '+item.paino}g</div>\r\n      <div>{'kilohinta '+(item.hinta*1000/item.paino).toFixed(2)}€/kg</div>\r\n      <button className='oneItemButton' onClick={() => lisaaOstoskoriin(index)}>lisää ostoskoriin</button>\r\n      <p>{item.kuvaus}</p>\r\n    </div>\r\n  )\r\n}\r\nexport default OneItem","import React from 'react'\r\nimport Item from './Item'\r\nconst DateParser = ({datestring}) => {\r\n  const date = new Date(datestring)\r\n  const currentDate = Date.now()\r\n  const arrived = currentDate > date.getTime()+30000 ? 'saapunut' : 'ei saapunut'\r\n  return(\r\n    <div style={{marginBottom: '10px'}}>\r\n      tilattu: {date.toLocaleString('en-GB')}\r\n      <br/>\r\n      {arrived}\r\n    </div>\r\n  )\r\n}\r\nconst OrderHistory = ({ orders, ostoskoriFunction }) => (\r\n  <div>\r\n    <h2>{orders.length?'tilaushistoria':''}</h2>\r\n    {orders.map((order, index) =>\r\n      <div key={index}>\r\n        <Item item={order.orderItem} ostoskoriFunction={ostoskoriFunction} index={index}/>\r\n        <DateParser datestring={order.date}/>\r\n      </div>\r\n    )}\r\n  </div>\r\n)\r\n\r\nexport default OrderHistory","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass Toggleable extends React.Component {\r\n    constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        visible: false\r\n      }\r\n    }\r\n  \r\n    toggleVisibility = () => {\r\n      this.setState({visible: !this.state.visible})\r\n      if (this.props.changeAppState) {\r\n        this.props.changeAppState('address', this.props.user.address)\r\n      }\r\n    }\r\n    \r\n    render() {\r\n      const hideWhenVisible = { display: this.state.visible ? 'none' : '' }\r\n      const showWhenVisible = { display: this.state.visible ? '' : 'none' }\r\n  \r\n      return (\r\n        <div>\r\n          <div style={hideWhenVisible}>\r\n            <button onClick={this.toggleVisibility}>{this.props.buttonLabel}</button>\r\n          </div>\r\n          <div style={showWhenVisible}>\r\n            {this.props.children}\r\n            <button onClick={this.toggleVisibility}>peruuta</button>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  \r\nToggleable.propTypes = {\r\n    buttonLabel: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Toggleable","\r\nimport React from 'react'\r\nconst ChangeInformationForm = ({address, handleChange, onSubmit }) => {\r\n    return (\r\n      <div>\r\n        <h3>muokkaa tietoja</h3>\r\n        <form onSubmit={onSubmit}>\r\n          <div>\r\n            osoite\r\n            <input\r\n              name=\"address\"\r\n              value={address}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <button type=\"submit\">valmis</button>\r\n        </form>\r\n      </div>\r\n    )\r\n\r\n  }\r\nexport default ChangeInformationForm","import React from 'react'\r\nconst ChangePasswordForm = ({ onSubmit, handleChange, password }) => {\r\n    return (\r\n      <div>\r\n        <h3>Vaihda salasana</h3>\r\n        <form onSubmit={onSubmit}>\r\n          <div>\r\n            uusi salasana\r\n            <input\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <button type=\"submit\">valmis</button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\nexport default ChangePasswordForm","import React from 'react'\r\nimport OrderHistory from './OrderHistory'\r\nimport Toggleable from './Toggleable'\r\nimport ChangeInformationForm from './ChangeInformationForm'\r\nimport ChangePasswordForm from './ChangePasswordForm'\r\n\r\nconst User = ({ user, address, password, handleChange, onInformationSubmit, onPasswordSubmit, logout, changeAppState, notification, deleteUser, history, ostoskoriFunction }) => {\r\n  if (user){\r\n    let tog1\r\n    let tog2\r\n    const togref1 = instance => tog1 = instance\r\n    const togref2 = instance => tog2 = instance\r\n    \r\n    const changeInformationFormSubmit = (event) => {\r\n      tog1.toggleVisibility()\r\n      onInformationSubmit(event, address)\r\n    }\r\n\r\n    const changePasswordFormSubmit = (event) => {\r\n      tog2.toggleVisibility()\r\n      onPasswordSubmit(event)\r\n    }\r\n\r\n    return(\r\n      <div>\r\n      <h2>{user.username}</h2>\r\n      <br/>\r\n      osoite: {user.address}\r\n      <Toggleable buttonLabel=\"muokkaa tietoja\" changeAppState={changeAppState} user={user} ref={togref1}>\r\n        <ChangeInformationForm\r\n          address={address}\r\n          handleChange={handleChange}\r\n          onSubmit={changeInformationFormSubmit}\r\n        />\r\n      </Toggleable>\r\n\r\n      <Toggleable buttonLabel=\"vaihda salasana\" ref={togref2}>\r\n        <ChangePasswordForm\r\n          password={password}\r\n          handleChange={handleChange}\r\n          onSubmit={changePasswordFormSubmit}\r\n        />\r\n      </Toggleable>\r\n\r\n      \r\n      <button onClick={()=>logout(history)}>kirjaudu ulos</button>\r\n      <button onClick={()=>deleteUser(history)}>poista käyttäjätunnus</button>\r\n      <div>{notification}</div>\r\n      <OrderHistory orders={user.orderHistory} ostoskoriFunction={ostoskoriFunction}/>\r\n    </div>\r\n    )\r\n  }else{\r\n    return(\r\n      null\r\n    )\r\n  }\r\n}\r\nexport default User\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/items'\r\n\r\nconst getAll = async () => {\r\n  const response = await axios.get(baseUrl)\r\n  return response.data\r\n}\r\n\r\nexport default { getAll }","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nlet token = null\r\nconst create = async (newObject) => {\r\n  const response = await axios.post(baseUrl, newObject)\r\n  return response.data\r\n}\r\n\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst changeInformation = async (newObject) => {\r\n  const config = {\r\n    headers: { 'Authorization': token }\r\n  }\r\n  const response = await axios.put(baseUrl+'/information', newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst changePassword = async (newObject) => {\r\n  const config = {\r\n    headers: { 'Authorization': token }\r\n  }\r\n  const response = await axios.put(baseUrl+'/password', newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst order = async (newObject) => {\r\n  const config = {\r\n    headers: { 'Authorization': token }\r\n  }\r\n  const response = await axios.put(baseUrl+'/order', newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst remove = async () => {\r\n  const config = {\r\n    headers: { 'Authorization': token }\r\n  }\r\n  const response = await axios.delete(baseUrl+'/delete', config)\r\n  return response.data\r\n}\r\nexport default {create, setToken, changeInformation, changePassword, order, remove }","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async (credentials) => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import React from 'react'\r\nimport './index.css'\r\nimport Menu from './components/Menu'\r\nimport CategoryMenu from './components/CategoryMenu'\r\nimport Category from './components/Category'\r\nimport LoginForm from './components/LoginForm'\r\nimport ItemList from './components/ItemList'\r\nimport Ostoskori from './components/Ostoskori'\r\nimport OneItem from './components/OneItem'\r\nimport User from './components/User'\r\nimport itemService from './services/items'\r\nimport userService from './services/users'\r\nimport loginService from './services/login'\r\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom'\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      items: [],\r\n      showAll: true,\r\n      notification: null,\r\n      username: '',\r\n      password: '',\r\n      address: '',\r\n      user: null,\r\n      ostoskori: [],\r\n      currentlyViewedItem: '',\r\n      haku: '',\r\n      fromTilaa: false,\r\n      newItemNimi: '',\r\n      newItemKuva: '',\r\n      newItemHinta: '',\r\n      newItemPaino: '',\r\n      newItemKuvaus: '',\r\n      newItemKategoria: '',\r\n      timer: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    itemService.getAll().then(items =>{\r\n      this.setState({ items })\r\n    }\r\n    )\r\n    const loggedUserJSON = window.localStorage.getItem('loggedItemAppUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      this.setState({ user })\r\n      userService.setToken(user.token)\r\n    }\r\n\r\n    const ostoskoriJSON = window.localStorage.getItem('ostoskori')\r\n    if (ostoskoriJSON) {\r\n      const ostoskori = JSON.parse(ostoskoriJSON)\r\n      this.setState({\r\n        ostoskori\r\n      })\r\n    }\r\n  }\r\n\r\n  logout = (history) => {\r\n    window.localStorage.removeItem('loggedItemAppUser')\r\n    userService.setToken(null)\r\n    this.setState({ username: '', password: '', user: null })\r\n    history.push('/kauppa')\r\n  }\r\n\r\n  notification = (message) => {\r\n    clearTimeout(this.state.timer)\r\n    const timer = setTimeout(() => {\r\n      this.setState({ notification: null })\r\n    }, 5000)\r\n    this.setState({notification: message, timer})\r\n  }\r\n  resetNotification = () => {\r\n    this.setState({notification: null})\r\n  }\r\n\r\n  login = async (event, history) => {\r\n    event.preventDefault()\r\n    try {\r\n      const user = await loginService.login({\r\n        username: this.state.username,\r\n        password: this.state.password\r\n      })\r\n      \r\n      userService.setToken(user.token)\r\n      window.localStorage.setItem('loggedItemAppUser', JSON.stringify(user))\r\n      this.setState({ username: '', password: '', user, notification: null })\r\n      \r\n      if (this.state.fromTilaa) {\r\n        this.setState({ fromTilaa: false })\r\n        history.push('/ostoskori')\r\n      }else{\r\n        history.push('/kauppa')\r\n      }\r\n    } catch (exception) {\r\n      this.notification('käyttäjätunnus tai salasana virheellinen')\r\n    }\r\n  }\r\n\r\n  register = async (event, history) => {\r\n    event.preventDefault()\r\n    if (this.state.username==='' || this.state.password==='' || this.state.address==='') {\r\n      this.notification('kaikki kentät pitää täyttää')\r\n    }else{\r\n      try {\r\n        const user = await userService.create({\r\n          username: this.state.username,\r\n          password: this.state.password,\r\n          address: this.state.address\r\n        })\r\n\r\n        userService.setToken(user.token)\r\n        window.localStorage.setItem('loggedItemAppUser', JSON.stringify(user))\r\n        this.setState({ username: '', password: '',address: '', user, notification: null })\r\n        if (this.state.fromTilaa) {\r\n          this.setState({ fromTilaa: false })\r\n          history.push('/ostoskori')\r\n        }else{\r\n          history.push('/kauppa')\r\n        }\r\n      } catch (exception) {\r\n        this.notification('käyttäjätunnus pitää olla ainutlaatuinen')\r\n      }\r\n    }\r\n  }\r\n\r\n  changeInformation = async (event, address) => {\r\n    event.preventDefault()\r\n    if (address==='') {\r\n      this.notification('osoite ei saa olla tyhjä')\r\n    }else{\r\n      await userService.changeInformation({\r\n        address\r\n      })\r\n      const user = {...this.state.user, address}\r\n      window.localStorage.setItem('loggedItemAppUser', JSON.stringify(user))\r\n      this.setState({ address: '', user })\r\n      this.notification('osoite muutettu')\r\n    }\r\n  }\r\n\r\n  changePassword = async (event) => {\r\n    event.preventDefault()\r\n    if (this.state.password==='') {\r\n      this.notification('salasana ei saa olla tyhjä')\r\n    }else{\r\n      await userService.changePassword({\r\n        password: this.state.password\r\n      })\r\n      this.setState({ password: '' })\r\n      this.notification('salasana muutettu')\r\n    }\r\n  }\r\n\r\n  deleteUser = async (history) => {\r\n    await userService.remove()\r\n    window.localStorage.clear()\r\n    this.setState({ostoskori: [], user: null})\r\n    history.push('/kauppa')\r\n  }\r\n  \r\n  handleChange = (event) => {\r\n    this.setState({ [event.target.name]: event.target.value })\r\n  }\r\n\r\n  changeAppState = (key, value) => {\r\n    this.setState({ [key]: value })\r\n  }\r\n  \r\n  lisaaOstoskoriin = (index) => {\r\n    const ostoskori = this.state.ostoskori.concat(this.state.items[index])\r\n    window.localStorage.setItem('ostoskori', JSON.stringify(ostoskori))\r\n    this.setState({\r\n      ostoskori\r\n    })\r\n  }\r\n\r\n  poistaOstoskorista = (index) => {\r\n    const ostoskori=this.state.ostoskori\r\n    ostoskori.splice(index, 1)\r\n    window.localStorage.setItem('ostoskori', JSON.stringify(ostoskori))\r\n    this.setState({\r\n      ostoskori\r\n    })\r\n  }\r\n\r\n  tilaa = async (history) => {\r\n    if (this.state.user === null) {\r\n      this.setState({fromTilaa: true})\r\n      history.push('/kirjaudu')\r\n    }else{\r\n      const ostoskori=this.state.ostoskori\r\n      const orders = ostoskori.map(ostoskoriItem =>{\r\n        const newOrder = {\r\n          orderItem: ostoskoriItem,\r\n          date: Date.now()\r\n        }\r\n        return(newOrder)\r\n      })\r\n      const orderHistory=this.state.user.orderHistory.concat(orders)\r\n      const newOrderHistory = await userService.order({orderHistory})\r\n      const user ={...this.state.user, orderHistory: newOrderHistory}\r\n      window.localStorage.setItem('loggedItemAppUser', JSON.stringify(user))\r\n      window.localStorage.setItem('ostoskori', JSON.stringify([]))\r\n      this.setState({\r\n        ostoskori: [],\r\n        user\r\n      })\r\n      this.notification('tilattu')\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Router>\r\n          <div>\r\n            <h1>ruokakauppa</h1>\r\n            <Menu user={this.state.user} ostoskori={this.state.ostoskori.length ? true : false} resetNotification={this.resetNotification}/>\r\n            <Route exact path=\"/\" render={() =>\r\n              <Redirect to='/kauppa'/>\r\n            } />\r\n            <Route path=\"/kauppa\" render={() =>\r\n              <div>\r\n                <br/>\r\n                <CategoryMenu />\r\n                <input className='haku'\r\n                  name=\"haku\"\r\n                  placeholder=\"hae...\"\r\n                  value={this.state.haku}\r\n                  onChange={this.handleChange}\r\n                />\r\n              </div>\r\n            } />\r\n            <Route exact path=\"/kauppa\" render={() =>\r\n              <ItemList items={this.state.items.filter(item => item.nimi.toLowerCase().includes(this.state.haku.toLowerCase()))}\r\n              title='tuotteet'\r\n              lisaaOstoskoriin={this.lisaaOstoskoriin}\r\n              />\r\n            } />\r\n            <Route exact path=\"/kauppa/:category\" render={({ match }) => \r\n              <div>\r\n                <Category\r\n                items={this.state.items.filter(item => item.nimi.toLowerCase().includes(this.state.haku.toLowerCase()))}\r\n                category={match.params.category}\r\n                />\r\n              </div>\r\n            } />\r\n\r\n            <Route exact path=\"/ostoskori\" render={({history}) =>\r\n              <Ostoskori\r\n              ostoskori={this.state.ostoskori}\r\n              poistaOstoskorista={this.poistaOstoskorista}\r\n              tilaa={this.tilaa}\r\n              history={history}\r\n              notification={this.state.notification}\r\n              />\r\n            } />\r\n\r\n            <Route exact path=\"/käyttäjä\" render={({history}) =>\r\n              <User\r\n              user={this.state.user}\r\n              address={this.state.address}\r\n              password={this.state.password}\r\n              handleChange={this.handleChange}\r\n              onInformationSubmit={this.changeInformation}\r\n              onPasswordSubmit={this.changePassword}\r\n              logout={this.logout}\r\n              changeAppState={this.changeAppState}\r\n              notification={this.state.notification}\r\n              deleteUser={this.deleteUser}\r\n              history={history}\r\n              ostoskoriFunction={this.lisaaOstoskoriin}\r\n              />\r\n            } />\r\n\r\n            <Route exact path=\"/kirjaudu\" render={({history}) => \r\n              <LoginForm\r\n              username={this.state.username}\r\n              password={this.state.password}\r\n              address={this.state.address}\r\n              handleChange={this.handleChange}\r\n              onLoginSubmit={this.login}\r\n              onRegisterSubmit={this.register}\r\n              notification={this.state.notification}\r\n              resetNotification={this.resetNotification}\r\n              history={history}\r\n              />\r\n            } />\r\n\r\n            <Route path=\"/tuote/:id\" render={({ match }) => {\r\n              const items = this.state.items\r\n              const currentlyViewedItem = items.find(item => item._id === match.params.id)\r\n              const index = items.findIndex(item => item._id === match.params.id)\r\n              if (items.length > 0) {\r\n                return (\r\n                  <div>\r\n                    <br/>\r\n                    <CategoryMenu />\r\n                    <OneItem item={currentlyViewedItem} index={index} lisaaOstoskoriin={this.lisaaOstoskoriin}/>\r\n                  </div>\r\n                )\r\n              }\r\n              return null\r\n            }\r\n            } />\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}