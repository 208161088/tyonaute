{"version":3,"sources":["../images sync /^/.*/.webp$","../images/Pirkka lihaisa herkkunakki.webp","../images/juusto.webp","../images/juusto2.webp","../images/kana.webp","../images/kauraleipa.webp","../images/makkara.webp","../images/omena.webp","../images/parsa.webp","../images/riisi.webp","../images/ruisleipa.webp","../images/spagetti.webp","../images/vehnaleipa.webp","../images/vesimeloni.webp","components/Menu.js","components/CategoryMenu.js","components/Item.js","components/ItemList.js","components/Category.js","components/LoginForm.js","components/Ostoskori.js","components/OneItem.js","components/OrderHistory.js","components/Toggleable.js","components/ChangeInformationForm.js","components/ChangePasswordForm.js","components/User.js","services/items.js","services/users.js","services/login.js","App.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Menu","user","ostoskori","resetNotification","linkMaker","path","content","to","className","onClick","linkToUser","username","CategoryLink","text","CategoryMenu","item","buttonText","ostoskoriFunction","index","_id","style","textDecoration","src","require","kuva","alt","hinta","toFixed","paino","nimi","ItemList","items","title","lisaaOstoskoriin","Item","key","Category","category","categoryItems","filter","kategoria","LoginForm","props","toggleLogin","setState","login","state","toggleRegister","register","this","onSubmit","event","onLoginSubmit","history","type","name","value","onChange","handleChange","password","notification","onRegisterSubmit","address","React","Component","tilaaButton","totalPrice","tilaa","Ostoskori","poistaOstoskorista","reduce","accumulator","length","OneItem","kuvaus","DateParser","datestring","date","Date","arrived","now","getTime","marginBottom","toLocaleString","OrderHistory","orders","order","orderItem","reverse","Toggleable","toggleVisibility","visible","changeAppState","hideWhenVisible","display","showWhenVisible","buttonLabel","children","ChangeInformationForm","ChangePasswordForm","oldPassword","newPassword","User","onInformationSubmit","onPasswordSubmit","logout","deleteUser","tog1","tog2","ref","instance","orderHistory","getAll","a","axios","get","response","data","token","create","newObject","post","setToken","newToken","changeInformation","config","headers","put","baseUrl","changePassword","remove","delete","credentials","App","window","localStorage","removeItem","userService","push","message","clearTimeout","timer","setTimeout","preventDefault","loginService","setItem","JSON","stringify","fromTilaa","clear","target","find","concat","splice","ostoskoriItem","newOrderHistory","showAll","currentlyViewedItem","haku","newItemNimi","newItemKuva","newItemHinta","newItemPaino","newItemKuvaus","newItemKategoria","itemService","then","loggedUserJSON","getItem","parse","ostoskoriJSON","exact","render","placeholder","toLowerCase","includes","match","params","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.38c47ac8.chunk.js","sourcesContent":["var map = {\n\t\"./Pirkka lihaisa herkkunakki.webp\": 48,\n\t\"./juusto.webp\": 49,\n\t\"./juusto2.webp\": 50,\n\t\"./kana.webp\": 51,\n\t\"./kauraleipa.webp\": 52,\n\t\"./makkara.webp\": 53,\n\t\"./omena.webp\": 54,\n\t\"./parsa.webp\": 55,\n\t\"./riisi.webp\": 56,\n\t\"./ruisleipa.webp\": 57,\n\t\"./spagetti.webp\": 58,\n\t\"./vehnaleipa.webp\": 59,\n\t\"./vesimeloni.webp\": 60\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 24;","module.exports = __webpack_public_path__ + \"static/media/Pirkka lihaisa herkkunakki.4de32b7a.webp\";","module.exports = __webpack_public_path__ + \"static/media/juusto.dbde9fec.webp\";","module.exports = __webpack_public_path__ + \"static/media/juusto2.ab1e840c.webp\";","module.exports = __webpack_public_path__ + \"static/media/kana.9206c5cd.webp\";","module.exports = __webpack_public_path__ + \"static/media/kauraleipa.8871d72b.webp\";","module.exports = __webpack_public_path__ + \"static/media/makkara.9b37e5a6.webp\";","module.exports = __webpack_public_path__ + \"static/media/omena.fbdf0cf9.webp\";","module.exports = __webpack_public_path__ + \"static/media/parsa.a4684f58.webp\";","module.exports = __webpack_public_path__ + \"static/media/riisi.434464fb.webp\";","module.exports = __webpack_public_path__ + \"static/media/ruisleipa.112ddc5a.webp\";","module.exports = __webpack_public_path__ + \"static/media/spagetti.89d6d078.webp\";","module.exports = __webpack_public_path__ + \"static/media/vehnaleipa.b139231c.webp\";","module.exports = __webpack_public_path__ + \"static/media/vesimeloni.c9d24711.webp\";","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nconst Menu = ({user, ostoskori, resetNotification}) => {\r\n  const linkMaker = (path, content) => (\r\n    <Link to={path} className='categoryLink' onClick={resetNotification}>{content}</Link>\r\n  )\r\n  \r\n  const linkToUser = user ? linkMaker('/käyttäjä', user.username) : linkMaker('/kirjaudu', 'kirjaudu/rekisteröidy')\r\n  return(\r\n    <div>\r\n      {linkMaker('/kauppa', 'kauppa')}\r\n      {ostoskori ? linkMaker('/ostoskori', 'ostoskori') : null}\r\n      {linkToUser}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Menu","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst CategoryLink = ({text}) => (\r\n  <Link to={\"/kauppa/\" + text} className='categoryLink'>{text}</Link>\r\n)\r\n\r\n\r\nconst CategoryMenu = () => {\r\n  return(\r\n    <div>\r\n      <CategoryLink text=\"lihat\"/>\r\n      <CategoryLink text='kasvikset'/>\r\n      <CategoryLink text='leivät'/>\r\n      <CategoryLink text='hedelmät'/>\r\n      <CategoryLink text='maitotuotteet'/>\r\n      <CategoryLink text='muut'/>\r\n      <Link to=\"/kauppa\" className='categoryLink'>kaikki</Link>\r\n    </div>\r\n  )\r\n}\r\nexport default CategoryMenu","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nconst item = ({item, buttonText, ostoskoriFunction, index}) => (\r\n  <div className='item'>\r\n    <div className='itemListButton' onClick={() => ostoskoriFunction(item._id, index)}>{buttonText ? buttonText : 'lisää ostoskoriin'}</div>\r\n    <Link to={'/tuote/'+item._id} style={{textDecoration: 'none'}}>\r\n      <div className='itemLink'>\r\n        <img\r\n        src={require('../../images/'+item.kuva+'.webp')}\r\n        className={'itemImage'}\r\n        alt=\"\"\r\n        />\r\n        <div className='itemInformationText'>\r\n        {' '+(item.hinta).toFixed(2)}€<br/>\r\n        {' '+item.paino}g<br/>\r\n        {' '+(item.hinta*1000/item.paino).toFixed(2)}€/kg\r\n        </div>\r\n        <div>{item.nimi}</div>\r\n      </div>\r\n    </Link>\r\n  </div>\r\n)\r\n\r\nexport default item","import React from 'react'\r\nimport Item from './Item'\r\nconst ItemList = ({ items, title, lisaaOstoskoriin }) => (\r\n  <div>\r\n    <h2>{title}</h2>\r\n    {items.map((item) => (\r\n      <Item key={item._id} item={item} ostoskoriFunction={lisaaOstoskoriin}/>\r\n    )\r\n    )}\r\n  </div>\r\n)\r\nexport default ItemList","import React from 'react'\r\nimport ItemList from './ItemList'\r\nconst Category = ({items, category, lisaaOstoskoriin}) => {\r\n  const categoryItems = items.filter(item => item.kategoria === category)\r\n  return(\r\n    <div>\r\n      <ItemList items={categoryItems} title={category} lisaaOstoskoriin={lisaaOstoskoriin}/>\r\n    </div>\r\n  )\r\n}\r\nexport default Category","import React from 'react'\r\nclass LoginForm extends React.Component {\r\n\r\n    constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        login: false,\r\n        register: false\r\n      }\r\n    }\r\n  \r\n    toggleLogin = () => {\r\n      this.props.resetNotification()\r\n      this.setState({login: !this.state.login})\r\n    }\r\n\r\n    toggleRegister = () => {\r\n      this.props.resetNotification()\r\n      this.setState({register: !this.state.register})\r\n    }    \r\n\r\n    render() {\r\n      if (this.state.login){\r\n        return(\r\n          <div>\r\n            <h2>Kirjaudu sisään</h2>\r\n            <form onSubmit={(event) => this.props.onLoginSubmit(event, this.props.history)}>\r\n              <div>\r\n                käyttäjänimi\r\n                  <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  value={this.props.username}\r\n                  onChange={this.props.handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                salasana\r\n                  <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  value={this.props.password}\r\n                  onChange={this.props.handleChange}\r\n                />\r\n              </div>\r\n              <button type=\"submit\">kirjaudu</button>\r\n            </form>\r\n            <button onClick={this.toggleLogin}>takaisin</button>\r\n            <div> {this.props.notification} </div>\r\n          </div>\r\n        )\r\n      }else if(this.state.register){\r\n        return(\r\n          <div>\r\n            <h2>Rekisteröidy</h2>\r\n            <form onSubmit={(event) => this.props.onRegisterSubmit(event, this.props.history)}>\r\n              <div>\r\n                käyttäjänimi\r\n                  <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  value={this.props.username}\r\n                  onChange={this.props.handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                salasana\r\n                  <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  value={this.props.password}\r\n                  onChange={this.props.handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                osoite\r\n                  <input\r\n                  type=\"address\"\r\n                  name=\"address\"\r\n                  value={this.props.address}\r\n                  onChange={this.props.handleChange}\r\n                />\r\n              </div>\r\n              <button type=\"submit\">rekisteröidy</button>\r\n            </form>\r\n            <button onClick={this.toggleRegister}>takaisin</button>\r\n            <div> {this.props.notification} </div>\r\n          </div>\r\n        )\r\n      }else{\r\n        return(\r\n          <div>\r\n            <button onClick={this.toggleLogin}>kirjaudu sisään</button>\r\n            <button onClick={this.toggleRegister}>rekisteröidy</button>\r\n            <div> Kirjaudu tai rekisteröidy, jotta voit tehdä tilauksen</div>\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\nexport default LoginForm","import React from 'react'\r\nimport Item from './Item'\r\n\r\nconst tilaaButton = (totalPrice, tilaa, history) => (\r\n  <div>\r\n    yhteensä: {totalPrice}€<br/>\r\n    <button className='tilaaButton' onClick={() => tilaa(history)}>tilaa</button>\r\n  </div>\r\n)\r\n\r\nconst Ostoskori = ({ ostoskori, poistaOstoskorista, tilaa, history, notification}) => {\r\n  const totalPrice = ostoskori.reduce((accumulator, item) => accumulator + item.hinta, 0).toFixed(2)\r\n  return(\r\n    <div>\r\n      <h2>Ostoskori</h2>\r\n      {ostoskori.length > 4 ? tilaaButton(totalPrice, tilaa, history) : null}\r\n      {ostoskori.map((item, index) => {\r\n        return(\r\n          <div key={index} className='itemList'>\r\n            <Item item={item} buttonText='poista ostoskorista' ostoskoriFunction={poistaOstoskorista} index={index}/>\r\n          </div>\r\n        )\r\n      })}\r\n      <br/>\r\n      {tilaaButton(totalPrice, tilaa, history)}\r\n      <div>{notification}</div>\r\n    </div>\r\n  )\r\n}\r\nexport default Ostoskori","import React from 'react'\r\nconst OneItem = ({ item, lisaaOstoskoriin}) => {\r\n  return(\r\n    <div>\r\n      <h2>{item.nimi}</h2>\r\n      <img\r\n        src={require('../../images/'+item.kuva+'.webp')}\r\n        className={'oneItemImage'}\r\n        alt=\"\"\r\n      />\r\n      <div>{'hinta: '+(item.hinta).toFixed(2)}€</div>\r\n      <div>{'paino: '+item.paino}g</div>\r\n      <div>{'kilohinta '+(item.hinta*1000/item.paino).toFixed(2)}€/kg</div>\r\n      <button className='oneItemButton' onClick={() => lisaaOstoskoriin(item._id)}>lisää ostoskoriin</button>\r\n      <p>{item.kuvaus}</p>\r\n    </div>\r\n  )\r\n}\r\nexport default OneItem","import React from 'react'\r\nimport Item from './Item'\r\nconst DateParser = ({datestring}) => {\r\n  const date = new Date(datestring)\r\n  const currentDate = Date.now()\r\n  const arrived = currentDate > date.getTime()+30000 ? 'saapunut' : 'ei saapunut'\r\n  return(\r\n    <div style={{marginBottom: '10px'}}>\r\n      tilattu: {date.toLocaleString('en-GB')}\r\n      <br/>\r\n      {arrived}\r\n    </div>\r\n  )\r\n}\r\nconst OrderHistory = ({ orders, lisaaOstoskoriin }) => (\r\n  <div>\r\n    <h2>{orders.length?'tilaushistoria':''}</h2>\r\n    {orders.map((order) =>\r\n      <div key={order._id}>\r\n        <Item item={order.orderItem} ostoskoriFunction={lisaaOstoskoriin}/>\r\n        <DateParser datestring={order.date}/>\r\n      </div>\r\n    ).reverse()}\r\n  </div>\r\n)\r\n\r\nexport default OrderHistory","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nclass Toggleable extends React.Component {\r\n    constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        visible: false\r\n      }\r\n    }\r\n  \r\n    toggleVisibility = () => {\r\n      this.setState({visible: !this.state.visible})\r\n      if (this.props.changeAppState) {\r\n        this.props.changeAppState('address', this.props.user.address)\r\n      }\r\n    }\r\n    \r\n    render() {\r\n      const hideWhenVisible = { display: this.state.visible ? 'none' : '' }\r\n      const showWhenVisible = { display: this.state.visible ? '' : 'none' }\r\n  \r\n      return (\r\n        <div>\r\n          <div style={hideWhenVisible}>\r\n            <button onClick={this.toggleVisibility}>{this.props.buttonLabel}</button>\r\n          </div>\r\n          <div className='toggleable' style={showWhenVisible}>\r\n            {this.props.children}\r\n            <button onClick={this.toggleVisibility}>peruuta</button>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  \r\nToggleable.propTypes = {\r\n    buttonLabel: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Toggleable","\r\nimport React from 'react'\r\nconst ChangeInformationForm = ({address, handleChange, onSubmit }) => {\r\n    return (\r\n      <div>\r\n        <h3>muokkaa tietoja</h3>\r\n        <form onSubmit={onSubmit}>\r\n          <div>\r\n            osoite\r\n            <input\r\n              name=\"address\"\r\n              value={address}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <button type=\"submit\">valmis</button>\r\n        </form>\r\n      </div>\r\n    )\r\n\r\n  }\r\nexport default ChangeInformationForm","import React from 'react'\r\nconst ChangePasswordForm = ({ onSubmit, handleChange, oldPassword, newPassword }) => {\r\n    return (\r\n      <div>\r\n        <h3>Vaihda salasana</h3>\r\n        <form onSubmit={onSubmit}>\r\n          <div>\r\n            nykyinen salasana\r\n          </div>\r\n            <input className='passwordInput'\r\n              name=\"oldPassword\"\r\n              value={oldPassword}\r\n              onChange={handleChange}\r\n            />\r\n          \r\n          <div>\r\n            uusi salasana\r\n          </div>\r\n            <input className='passwordInput'\r\n              name=\"password\"\r\n              value={newPassword}\r\n              onChange={handleChange}\r\n            />\r\n          \r\n          <button type=\"submit\">valmis</button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\nexport default ChangePasswordForm","import React from 'react'\r\nimport OrderHistory from './OrderHistory'\r\nimport Toggleable from './Toggleable'\r\nimport ChangeInformationForm from './ChangeInformationForm'\r\nimport ChangePasswordForm from './ChangePasswordForm'\r\n\r\nconst User = ({ user, address, oldPassword, newPassword, handleChange, onInformationSubmit, onPasswordSubmit, logout, changeAppState, notification, deleteUser, history, lisaaOstoskoriin }) => {\r\n  if (user){\r\n    let tog1\r\n    let tog2\r\n    const togref1 = instance => tog1 = instance\r\n    const togref2 = instance => tog2 = instance\r\n    \r\n    const changeInformationFormSubmit = (event) => {\r\n      tog1.toggleVisibility()\r\n      onInformationSubmit(event, address)\r\n    }\r\n\r\n    const changePasswordFormSubmit = (event) => {\r\n      tog2.toggleVisibility()\r\n      onPasswordSubmit(event)\r\n    }\r\n\r\n    return(\r\n      <div>\r\n      <h2>{user.username}</h2>\r\n      <br/>\r\n      osoite: {user.address}\r\n      <Toggleable buttonLabel=\"muokkaa tietoja\" changeAppState={changeAppState} user={user} ref={togref1}>\r\n        <ChangeInformationForm\r\n          address={address}\r\n          handleChange={handleChange}\r\n          onSubmit={changeInformationFormSubmit}\r\n        />\r\n      </Toggleable>\r\n\r\n      <Toggleable buttonLabel=\"vaihda salasana\" ref={togref2}>\r\n        <ChangePasswordForm\r\n          oldPassword={oldPassword}\r\n          newPassword={newPassword}\r\n          handleChange={handleChange}\r\n          onSubmit={changePasswordFormSubmit}\r\n        />\r\n      </Toggleable>\r\n\r\n      \r\n      <button onClick={()=>logout(history)}>kirjaudu ulos</button>\r\n      <br/>\r\n      <button onClick={()=>deleteUser(history)}>poista käyttäjätunnus</button>\r\n      <div>{notification}</div>\r\n      <OrderHistory orders={user.orderHistory} lisaaOstoskoriin={lisaaOstoskoriin}/>\r\n    </div>\r\n    )\r\n  }else{\r\n    return(\r\n      null\r\n    )\r\n  }\r\n}\r\nexport default User\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/items'\r\n\r\nconst getAll = async () => {\r\n  const response = await axios.get(baseUrl)\r\n  return response.data\r\n}\r\n\r\nexport default { getAll }","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nlet token = null\r\nconst create = async (newObject) => {\r\n  const response = await axios.post(baseUrl, newObject)\r\n  return response.data\r\n}\r\n\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst changeInformation = async (newObject) => {\r\n  const config = {\r\n    headers: { 'Authorization': token }\r\n  }\r\n  const response = await axios.put(baseUrl+'/information', newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst changePassword = async (newObject) => {\r\n  const config = {\r\n    headers: { 'Authorization': token }\r\n  }\r\n  const response = await axios.put(baseUrl+'/password', newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst order = async (newObject) => {\r\n  const config = {\r\n    headers: { 'Authorization': token }\r\n  }\r\n  const response = await axios.put(baseUrl+'/order', newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst remove = async () => {\r\n  const config = {\r\n    headers: { 'Authorization': token }\r\n  }\r\n  const response = await axios.delete(baseUrl+'/delete', config)\r\n  return response.data\r\n}\r\nexport default {create, setToken, changeInformation, changePassword, order, remove }","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async (credentials) => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import React from 'react'\r\nimport './index.css'\r\nimport Menu from './components/Menu'\r\nimport CategoryMenu from './components/CategoryMenu'\r\nimport Category from './components/Category'\r\nimport LoginForm from './components/LoginForm'\r\nimport ItemList from './components/ItemList'\r\nimport Ostoskori from './components/Ostoskori'\r\nimport OneItem from './components/OneItem'\r\nimport User from './components/User'\r\nimport itemService from './services/items'\r\nimport userService from './services/users'\r\nimport loginService from './services/login'\r\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom'\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      items: [],\r\n      showAll: true,\r\n      notification: null,\r\n      username: '',\r\n      oldPassword: '',\r\n      password: '',\r\n      address: '',\r\n      user: null,\r\n      ostoskori: [],\r\n      currentlyViewedItem: '',\r\n      haku: '',\r\n      fromTilaa: false,\r\n      newItemNimi: '',\r\n      newItemKuva: '',\r\n      newItemHinta: '',\r\n      newItemPaino: '',\r\n      newItemKuvaus: '',\r\n      newItemKategoria: '',\r\n      timer: null\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    itemService.getAll().then(items => {\r\n      this.setState({ items })\r\n    })\r\n    const loggedUserJSON = window.localStorage.getItem('loggedItemAppUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      this.setState({ user })\r\n      userService.setToken(user.token)\r\n    }\r\n\r\n    const ostoskoriJSON = window.localStorage.getItem('ostoskori')\r\n    if (ostoskoriJSON) {\r\n      const ostoskori = JSON.parse(ostoskoriJSON)\r\n      this.setState({\r\n        ostoskori\r\n      })\r\n    }\r\n  }\r\n\r\n  logout = (history) => {\r\n    window.localStorage.removeItem('loggedItemAppUser')\r\n    userService.setToken(null)\r\n    this.setState({ username: '', password: '', user: null })\r\n    history.push('/kauppa')\r\n  }\r\n\r\n  notification = (message) => {\r\n    clearTimeout(this.state.timer)\r\n    const timer = setTimeout(() => {\r\n      this.setState({ notification: null })\r\n    }, 5000)\r\n    this.setState({notification: message, timer})\r\n  }\r\n  resetNotification = () => {\r\n    this.setState({notification: null})\r\n  }\r\n\r\n  login = async (event, history) => {\r\n    event.preventDefault()\r\n    try {\r\n      const user = await loginService.login({\r\n        username: this.state.username,\r\n        password: this.state.password\r\n      })\r\n      \r\n      userService.setToken(user.token)\r\n      window.localStorage.setItem('loggedItemAppUser', JSON.stringify(user))\r\n      this.setState({ username: '', password: '', user, notification: null })\r\n      \r\n      if (this.state.fromTilaa) {\r\n        this.setState({ fromTilaa: false })\r\n        history.push('/ostoskori')\r\n      }else{\r\n        history.push('/kauppa')\r\n      }\r\n    } catch (exception) {\r\n      this.notification('käyttäjätunnus tai salasana virheellinen')\r\n    }\r\n  }\r\n\r\n  register = async (event, history) => {\r\n    event.preventDefault()\r\n    if (this.state.username==='' || this.state.password==='' || this.state.address==='') {\r\n      this.notification('kaikki kentät pitää täyttää')\r\n    }else{\r\n      try {\r\n        const user = await userService.create({\r\n          username: this.state.username,\r\n          password: this.state.password,\r\n          address: this.state.address\r\n        })\r\n\r\n        userService.setToken(user.token)\r\n        window.localStorage.setItem('loggedItemAppUser', JSON.stringify(user))\r\n        this.setState({ username: '', password: '',address: '', user, notification: null })\r\n        if (this.state.fromTilaa) {\r\n          this.setState({ fromTilaa: false })\r\n          history.push('/ostoskori')\r\n        }else{\r\n          history.push('/kauppa')\r\n        }\r\n      } catch (exception) {\r\n        this.notification('käyttäjätunnus pitää olla ainutlaatuinen')\r\n      }\r\n    }\r\n  }\r\n\r\n  changeInformation = async (event, address) => {\r\n    event.preventDefault()\r\n    if (address==='') {\r\n      this.notification('osoite ei saa olla tyhjä')\r\n    }else{\r\n      await userService.changeInformation({\r\n        address\r\n      })\r\n      const user = {...this.state.user, address}\r\n      window.localStorage.setItem('loggedItemAppUser', JSON.stringify(user))\r\n      this.setState({ address: '', user })\r\n      this.notification('osoite muutettu')\r\n    }\r\n  }\r\n\r\n  changePassword = async (event) => {\r\n    event.preventDefault()\r\n    try {\r\n      if (this.state.password==='') {\r\n        this.notification('salasana ei saa olla tyhjä')\r\n      } else {\r\n        await userService.changePassword({\r\n          username: this.state.user.username,\r\n          oldPassword: this.state.oldPassword,\r\n          password: this.state.password\r\n        })\r\n        this.setState({\r\n          oldPassword: '',\r\n          password: '',\r\n        })\r\n        this.notification('salasana muutettu')\r\n      }\r\n    } catch (exception) {\r\n      this.notification('nykyinen salasana on virheellinen')\r\n    }\r\n  }\r\n\r\n  deleteUser = async (history) => {\r\n    await userService.remove()\r\n    window.localStorage.clear()\r\n    this.setState({ostoskori: [], user: null})\r\n    history.push('/kauppa')\r\n  }\r\n  \r\n  handleChange = (event) => {\r\n    this.setState({ [event.target.name]: event.target.value })\r\n  }\r\n\r\n  changeAppState = (key, value) => {\r\n    this.setState({ [key]: value })\r\n  }\r\n  \r\n  lisaaOstoskoriin = (id) => {\r\n    const item = this.state.items.find((item) => item._id === id)\r\n    const ostoskori = this.state.ostoskori.concat(item)\r\n    window.localStorage.setItem('ostoskori', JSON.stringify(ostoskori))\r\n    this.setState({\r\n      ostoskori\r\n    })\r\n  }\r\n\r\n  poistaOstoskorista = (id, index) => {\r\n    const ostoskori = this.state.ostoskori\r\n    ostoskori.splice(index, 1)\r\n    window.localStorage.setItem('ostoskori', JSON.stringify(ostoskori))\r\n    this.setState({\r\n      ostoskori\r\n    })\r\n  }\r\n\r\n  tilaa = async (history) => {\r\n    if (this.state.user === null) {\r\n      this.setState({fromTilaa: true})\r\n      history.push('/kirjaudu')\r\n    }else{\r\n      const ostoskori=this.state.ostoskori\r\n      const orders = ostoskori.map(ostoskoriItem =>{\r\n        const newOrder = {\r\n          orderItem: ostoskoriItem,\r\n          date: Date.now()\r\n        }\r\n        return(newOrder)\r\n      })\r\n      const orderHistory=this.state.user.orderHistory.concat(orders)\r\n      const newOrderHistory = await userService.order({orderHistory})\r\n      const user ={...this.state.user, orderHistory: newOrderHistory}\r\n      window.localStorage.setItem('loggedItemAppUser', JSON.stringify(user))\r\n      window.localStorage.setItem('ostoskori', JSON.stringify([]))\r\n      this.setState({\r\n        ostoskori: [],\r\n        user\r\n      })\r\n      this.notification('tilattu')\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Router>\r\n          <div>\r\n            <h1>ruokakauppa</h1>\r\n            <Menu user={this.state.user} ostoskori={this.state.ostoskori.length ? true : false} resetNotification={this.resetNotification}/>\r\n            <Route exact path=\"/\" render={() =>\r\n              <Redirect to='/kauppa'/>\r\n            } />\r\n            <Route path=\"/kauppa\" render={() =>\r\n              <div>\r\n                <br/>\r\n                <CategoryMenu />\r\n                <input className='haku'\r\n                  name=\"haku\"\r\n                  placeholder=\"hae...\"\r\n                  value={this.state.haku}\r\n                  onChange={this.handleChange}\r\n                />\r\n              </div>\r\n            } />\r\n            <Route exact path=\"/kauppa\" render={() =>\r\n              <ItemList items={this.state.items.filter(item => item.nimi.toLowerCase().includes(this.state.haku.toLowerCase()))}\r\n              title='tuotteet'\r\n              lisaaOstoskoriin={this.lisaaOstoskoriin}\r\n              />\r\n            } />\r\n            <Route exact path=\"/kauppa/:category\" render={({ match }) => \r\n              <div>\r\n                <Category\r\n                items={this.state.items.filter(item => item.nimi.toLowerCase().includes(this.state.haku.toLowerCase()))}\r\n                category={match.params.category}\r\n                lisaaOstoskoriin={this.lisaaOstoskoriin}\r\n                />\r\n              </div>\r\n            } />\r\n\r\n            <Route exact path=\"/ostoskori\" render={({history}) =>\r\n              <Ostoskori\r\n              ostoskori={this.state.ostoskori}\r\n              poistaOstoskorista={this.poistaOstoskorista}\r\n              tilaa={this.tilaa}\r\n              history={history}\r\n              notification={this.state.notification}\r\n              />\r\n            } />\r\n\r\n            <Route exact path=\"/käyttäjä\" render={({history}) =>\r\n              <User\r\n              user={this.state.user}\r\n              address={this.state.address}\r\n              oldPassword={this.state.oldPassword}\r\n              newPassword={this.state.password}\r\n              handleChange={this.handleChange}\r\n              onInformationSubmit={this.changeInformation}\r\n              onPasswordSubmit={this.changePassword}\r\n              logout={this.logout}\r\n              changeAppState={this.changeAppState}\r\n              notification={this.state.notification}\r\n              deleteUser={this.deleteUser}\r\n              history={history}\r\n              lisaaOstoskoriin={this.lisaaOstoskoriin}\r\n              />\r\n            } />\r\n\r\n            <Route exact path=\"/kirjaudu\" render={({history}) => \r\n              <LoginForm\r\n              username={this.state.username}\r\n              password={this.state.password}\r\n              address={this.state.address}\r\n              handleChange={this.handleChange}\r\n              onLoginSubmit={this.login}\r\n              onRegisterSubmit={this.register}\r\n              notification={this.state.notification}\r\n              resetNotification={this.resetNotification}\r\n              history={history}\r\n              />\r\n            } />\r\n\r\n            <Route path=\"/tuote/:id\" render={({ match }) => {\r\n              const items = this.state.items\r\n              const currentlyViewedItem = items.find(item => item._id === match.params.id)\r\n              if (items.length > 0) {\r\n                return (\r\n                  <div>\r\n                    <br/>\r\n                    <CategoryMenu />\r\n                    <OneItem item={currentlyViewedItem} lisaaOstoskoriin={this.lisaaOstoskoriin}/>\r\n                  </div>\r\n                )\r\n              }\r\n              return null\r\n            }\r\n            } />\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}